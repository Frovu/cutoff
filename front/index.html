<html>
    <head>
        <title>Cutoff</title>
        <link rel="stylesheet" type="text/css" href="./css/bootstrap.css">
        <link rel="stylesheet" type="text/css" href="./css/custom.css">
    </head>
    <body>
        <div>
            <!--
            <div class="btn-group" role="group" aria-label="Basic example">
                <button type="button" class="btn btn-secondary">Load</button>
                <button type="button" class="btn btn-secondary">Save</button>
                <button type="button" class="btn btn-secondary">Save as..</button>
            </div>-->
            <div class="row">
                <div class="col-md-2" style="max-height: 820px; min-width: 940px; background-color: black; padding-right: 0px;">
                    <h3 style='margin-top: 15px; height: 30px' class='bg-dark text-white'>Cutoff Rigidity Visualiser</h3>
                    <div id="info" style="font-size: 15px"></div>
                    <div>
                        <canvas class="center" width=850 height=520 id="earth"></canvas>
                        <a><img src="arrow_left.png" class="arrow" id="arrow_left" onclick="penumbra_left()"></a>
                        <a><img src="arrow_right.png" class="arrow" id="arrow_right" onclick="penumbra_right()"></a>
                        <canvas class="center" width=850 height=170 id="penumbra"></canvas>
 

                        <div class="alert alert-danger" id="error_alert" style="margin-bottom:0px;display:none;width:100%;" role="alert"></div>
                        <!--fix-->
                        <small class="mt-2 form-text center" style="color: white">
                            Drag mouse on the animation to rotate, scroll to zoom<br>
                            Navigate through penumbra by mouse click or arrow keys
                        </small>
                    </div>
                </div>

                <div class="col-md-2" style="min-width: 940px; padding-top: 35px">
                    <div class="mt-2 row ml-1">
                        <div class="col-md-3">
                            <div class="dropdown" id="modelDd">
                                <button class="btn btn-outline-secondary dropdown-toggle btn-block rounded" type="button" id="model" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Geomagnetic Field Model</button>

                                <div class="dropdown-menu" aria-labelledby="model">
                                    <a onclick='change_model(this.innerHTML)' class="dropdown-item">Dipole</a>
                                    <a onclick='change_model(this.innerHTML)' class="dropdown-item">IGRF</a>
                                    <a onclick='change_model(this.innerHTML)' class="dropdown-item">T89_Kp</a>
                                    <a onclick='change_model(this.innerHTML)' class="dropdown-item">T96_01</a>
                                    <a onclick='change_model(this.innerHTML)' class="dropdown-item">T01_01</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <label class="col-form-label" for="date">Launch Date</label>
                            <input class="form-control rounded" type="text" id="date" value="2020.06.30">
                            <small id="dateHelp" class="form-text text-muted">Format: yyyy.mm.dd</small>
                        </div>
                        <div class="col-md-3">
                            <label class="col-form-label" for="time">Launch Time</label>
                            <input class="form-control rounded" type="text" id="time" value="12:00:00">
                        </div>
                    </div>

                    <div class="row ml-1">
                        <div class="col-md-3">
                            <label id="kp-label" class="col-form-label" for="kp">Kp-index</label>
                            <input class="form-control rounded" type="text" id="kp" value="2">
                        </div>
                        <div class="col-md-3">
                            <label id="swdp-label" class="col-form-label" for="swdp">SWDP</label>
                            <input class="form-control rounded" type="text" id="swdp" value="0.5">
                        </div>
                        <div class="col-md-3">
                            <label id="dst-label"class="col-form-label" for="dst">Dst-index</label>
                            <input class="form-control rounded" type="text" id="dst" value="-30.0">
                        </div>
                        <div class="col-md-3">
                            <label id="imfBy-label" class="col-form-label" for="imfBy">IMF By</label>
                            <input class="form-control rounded" type="text" id="imfBy" value="-7.8">
                        </div>
                        <div class="col-md-3">
                            <label id="imfBz-label" class="col-form-label" for="imfBz">IMF Bz</label>
                            <input class="form-control rounded" type="text" id="imfBz" value="-2.9">
                        </div>
                    </div>
                    <div class="mt-2 row ml-1">
                        <div class="col-md-3">
                            <label id="g1-label" class="col-form-label" for="g1">G1</label>
                            <input class="form-control rounded" type="text" id="g1" value="1.8">
                        </div>
                        <div class="col-md-3">
                            <label id="g2-label" class="col-form-label" for="g2">G2</label>
                            <input class="form-control rounded" type="text" id="g2" value="7.0">
                        </div>
                    </div>

                    <legend class="ml-1">Launch Direction</legend>
                    <div class="row ml-1">
                        <div class="col-md-3">
                            <label class="col-form-label" for="alt">Altitude (km)</label>
                            <input class="form-control rounded" type="text" id="alt" value="20.0">
                            <small class="form-text text-muted">Height above sea level in kilometers</small>
                        </div>
                        <div class="col-md-3">
                            <label class="col-form-label" for="vertical">Vertical angle (deg)</label>
                            <input class="form-control rounded" type="text" id="vertical" value="0.00">
                        </div>
                        <div class="col-md-3">
                            <label class="col-form-label" for="azimutal">Azimutal angle (deg)</label>
                            <input class="form-control rounded" type="text" id="azimutal" value="0.00">
                        </div>
                        <div class="col-md-3">
                            <label class="col-form-label" for="flightTime">Particle flight time (seconds)</label>
                            <input class="form-control" type="text" id="flightTime" value="8.0">
                        </div>
                    </div>

                    <legend class="ml-1">Launch Location</legend>
                    <div class="row ml-1">
                        <div class="col-md-3">
                            <div class="dropdown" id="stationDd">
                                <button class="btn btn-outline-secondary dropdown-toggle btn-block rounded" type="button" id="station" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Select station<span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu scrollable-menu" id="stationDropdown">
                                    <input type="text" placeholder="Search.." id="stationSearchButton" onkeyup="dropdown_filter()">
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <label class="col-form-label" for="lat">Latitude</label>
                            <input class="form-control rounded" type="text" id="lat" value="">
                        </div>
                        <div class="col-md-3">
                            <label class="col-form-label" for="lon">Longitude</label>
                            <input class="form-control rounded" type="text" id="lon" value="">
                        </div>
                        <div class="col-md-3">
                            <button type="button" class="btn btn-secondary btn-block rounded" id="map" onclick="on_map(document.getElementById('lat').value, document.getElementById('lon').value)">Show on map</button>
                        </div>
                    </div>

                    <legend class="ml-1">Rigidity</legend>
                    <div class="row ml-1">
                        <div class="col-md-3">
                            <label class="col-form-label" for="lower">Lowest rigidity (GV)</label>
                            <input class="form-control rounded" type="text" id="lower" value="0.00">
                        </div>
                        <div class="col-md-3">
                            <label class="col-form-label" for="upper">Highest rigidity (GV)</label>
                            <input class="form-control rounded" type="text" id="upper" value="6.00">
                        </div>
                        <div class="col-md-3">
							<!--
                            <label class="col-form-label" for="step">Rigidity step (GV)</label>
                            <input class="form-control rounded" type="number" id="step" value="0.01" min="0.001" max="0.1" step="0.01">
                            <small class="form-text text-muted">From 0.1 to 0.001 GV</small>
							-->
						
							<span class="dropdown">
								<button class="btn btn-outline-secondary dropdown-toggle btn-block rounded" type="button" id="step" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Rigidity step (GV)</button>
								
								<span class="dropdown-menu" aria-labelledby="step">
									<a onclick="change_step(this.innerHTML)" class="dropdown-item">0.1 GV</a>
									<a onclick="change_step(this.innerHTML)" class="dropdown-item">0.01 GV</a>
									<a onclick="change_step(this.innerHTML)" class="dropdown-item">0.001 GV</a>
								</span>
							<span class="dropdown">
                        </div>
                        <div class="col-md-3">
                            <button type="button" class="btn btn-primary btn-block rounded" id="submit" onclick="submit()">Calculate</button>
                        </div>
                    </div>

                    <div class="progress bg-gray" style="width: 100%; margin-top: 15px; height: 30px">
                        <div id="progress" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%; font-size: 16;"></div>
                    </div>

                    <hr>
                    <legend class="ml-1">Visuals</legend>
                    <div class="row ml-1" id="options">
                        <div class="col-md-3">
                            <label class="col-form-label" for="cameraSpeed">Camera speed</label>
                            <input class="form-control rounded" type="text" id="cameraSpeed" value="1">
                        </div>
                        <div class="col-md-3">
                            <label class="col-form-label" for="energy">Energy</label>
                            <input class="form-control rounded" type="number" id="energy" value="0" onchange="change_energy(this.value)">
                        </div>
                        <div class="col-md-3">
                            <label class="col-form-label" for="gifTime">Record for (seconds)</label>
                            <input class="form-control rounded" type="text" id="gifTime" value="6.0">
                        </div>
                        <div class="col-md-3">
                            <button type="button" class="btn btn-secondary btn-block rounded" onclick="makeGif();">Start recording</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script src="https://unpkg.com/popper.js/dist/umd/popper.min.js"></script>
    <script src="./js/jquery-3.3.1.min.js"></script>
    <script src="./js/bootstrap/bootstrap.min.js"></script>
    <script src="./js/gl/three.min.js"></script>
    <script src="./js/gl/gif/gif.js"></script>
    <script src="./js/utils.js"></script>
    <script src="./js/dimensions.js"></script>
    <script src="./js/dropdown.js"></script>
    <script src="./js/process.js"></script>
    <script src="./js/settings.js"></script>
    <script src="./js/stations.js"></script>
    <script src="./js/models.js"></script>
    <script src="./js/penumbra.js"></script>
    <script src="./js/earth/OrbitControls.js"></script>
    <script src="./js/earth/recorder.js"></script>
    <script src="./js/earth/trace.js"></script>
    <script src="./js/earth/earth.js"></script>
    <script src="./js/fetcher.js"></script>
</html>
